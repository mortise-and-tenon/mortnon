= mortnon

[width="100%",options="header"]
[stripes=even]
|====================
|Version |  Update Time  | Status | Author |  Description
|v2021-04-30 11:48:22|2021-04-30 11:48:22|auto|@zhangsiyuan|Created by smart-doc
|====================


== Demo
=== hello world
*URL:* /demo/hello

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /demo/hello
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": "mu5m8z",
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 表单提交demo
*URL:* /demo/form

*Type:* POST

*Author:* dongfangzan

*Content-Type:* application/json; charset=utf-8




*Body-parameters:*

[width="100%",options="header"]
[stripes=even]
|====================
|Parameter | Type|Description|Required|Since
|id|int64|id|true|-
|name|string|姓名|true|-
|age|int32|年龄|true|-
|====================

*Request-example:*
----
curl -X POST -H 'Content-Type: application/json; charset=utf-8' -i /demo/form? --data '{
	"id": 1,
	"name": "东方赞",
	"age": 12
}'
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|└─id|int64|id|-
|└─name|string|姓名|-
|└─age|int32|年龄|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": {
		"id": 1,
		"name": "东方赞",
		"age": 12
	},
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 验证错误
*URL:* /demo/error

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /demo/error
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": null,
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

== 首页
=== 跳转到mortnon首页
*URL:* /

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /
----

*Response-example:*
----
string
----

== api工具
=== 跳转到api页面
*URL:* /api

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /api
----

*Response-example:*
----
string
----

=== 跳转到swagger页面
*URL:* /swagger

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /swagger
----

*Response-example:*
----
string
----

== 验证码
=== 获取验证码
*URL:* /captcha/get

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /captcha/get
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|└─captcha_key|string|key|-
|└─captcha_image|string|图片|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": {
		"captcha_key": "edh2m8",
		"captcha_image": "hz47fn"
	},
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

== 登录
=== 用户名密码登录
*URL:* /login/password

*Type:* POST

*Author:* dongfangzan

*Content-Type:* application/json; charset=utf-8




*Body-parameters:*

[width="100%",options="header"]
[stripes=even]
|====================
|Parameter | Type|Description|Required|Since
|username|string|用户名|true|-
|password|string|密码|true|-
|verifyToken|string|验证码token|false|-
|code|string|验证码|false|-
|====================

*Request-example:*
----
curl -X POST -H 'Content-Type: application/json; charset=utf-8' -i /login/password? --data '{
	"username": "admin",
	"password": "123456",
	"verifyToken": "8lc5kp",
	"code": "50457"
}'
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": "er3nkm",
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 验证是否登录成功
*URL:* /login/check

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /login/check
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": true,
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 获取登录用户信息
*URL:* /login/loginUser

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /login/loginUser
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|└─id|string|登录用户id|-
|└─username|string|用户名唯一键|-
|└─permission_codes|array|权限码|-
|└─roles|array|角色码|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": {
		"id": "189",
		"username": "思远.莫",
		"permission_codes": [
			"v1pskr"
		],
		"roles": [
			"da34f1"
		]
	},
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 需要权限码
*URL:* /login/permission

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /login/permission
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": true,
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

=== 需要权限码Other
*URL:* /login/permissionOther

*Type:* GET

*Author:* dongfangzan

*Content-Type:* application/x-www-form-urlencoded;charset=utf-8





*Request-example:*
----
curl -X GET -i /login/permissionOther
----
*Response-fields:*

[width="100%",options="header"]
[stripes=even]
|====================
|Field | Type|Description|Since
|data|object|结果|-
|error_code|string|错误码|-
|message|string|错误描述|-
|success|boolean|是否成功|-
|====================

*Response-example:*
----
{
	"data": true,
	"error_code": "00000",
	"message": "success",
	"success": true
}
----

== 错误码列表

[width="100%",options="header"]
[stripes=even]
|====================
|Error code |Description
|00000|success
|A0001|user end error
|A0002|param error
|B0001|user register error
|A0101|user did not agree to privacy agreement
|A0110|username check failed
|A0111|username already exists
|A0120|user identity check failed
|A0210|invalid username or password
|A0230|user login time expired
|A0240|verify code error
|A0301|unauthorized access
|A0310|forbidden access
|A0311|token expire
|B0001|system error
|====================

